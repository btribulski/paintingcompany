From 2b10b2aaf8ec958b2c7e6fecb71bfc7f942e9765 Mon Sep 17 00:00:00 2001
From: btribulski <briant@loftproductions.com>
Date: Fri, 14 Nov 2014 13:38:45 -0500
Subject: [PATCH] fixed menus and slider functionality

---
 .../erpal_basic_helper/inc/dynamic.menu.inc         | 18 ++++++++++++------
 .../libraries/liquidslider/js/jquery.easing.1.3.js  |  4 ++--
 sites/all/themes/corolla/corolla.info               |  1 +
 sites/all/themes/corolla/css/front-page.css         | 21 +++++++++++++++++++++
 4 files changed, 36 insertions(+), 8 deletions(-)
 create mode 100644 sites/all/themes/corolla/css/front-page.css

diff --git a/profiles/erpal/modules/erpal/erpal_core/erpal_basic/erpal_basic_helper/inc/dynamic.menu.inc b/profiles/erpal/modules/erpal/erpal_core/erpal_basic/erpal_basic_helper/inc/dynamic.menu.inc
index 7bbfa52..96861fe 100644
--- a/profiles/erpal/modules/erpal/erpal_core/erpal_basic/erpal_basic_helper/inc/dynamic.menu.inc
+++ b/profiles/erpal/modules/erpal/erpal_core/erpal_basic/erpal_basic_helper/inc/dynamic.menu.inc
@@ -32,11 +32,14 @@ function _erpal_basic_helper_alter_local_tasks_output(&$data) {
 /**
 * Implements hook_menu_local_tasks_alter()
 */
-function erpal_basic_helper_menu_local_tasks_alter(&$data, $router_item, $root_path) {  
-  //add javascript to show local tasks as popup. This cannot be done in @see _erpal_basic_helper_alter_local_tasks_output as this output will be cached and this is why the JS file will not be delivered in the output process.
-  $mod_path = drupal_get_path('module', 'erpal_basic_helper');
-  $js_path = $mod_path.'/js/local_tasks.js';
-  drupal_add_js($js_path);
+function erpal_basic_helper_menu_local_tasks_alter(&$data, $router_item, $root_path) {
+  global $theme;
+  if($theme == 'erpal'){
+    //add javascript to show local tasks as popup. This cannot be done in @see _erpal_basic_helper_alter_local_tasks_output as this output will be cached and this is why the JS file will not be delivered in the output process.
+    $mod_path = drupal_get_path('module', 'erpal_basic_helper');
+    $js_path = $mod_path.'/js/local_tasks.js';
+    drupal_add_js($js_path);
+  }
 }
 
 /**
@@ -44,7 +47,10 @@ function erpal_basic_helper_menu_local_tasks_alter(&$data, $router_item, $root_p
 */
 function erpal_basic_helper_cat_local_task_alter(&$data, $router_item, $root_path) {  
   //finally at the end...
-  _erpal_basic_helper_alter_local_tasks_output($data); //to correct markup
+  global $theme;
+  if($theme == 'erpal'){
+    _erpal_basic_helper_alter_local_tasks_output($data); //to correct markup
+  }
 }
 
 
diff --git a/sites/all/libraries/liquidslider/js/jquery.easing.1.3.js b/sites/all/libraries/liquidslider/js/jquery.easing.1.3.js
index ef74321..ea35a00 100755
--- a/sites/all/libraries/liquidslider/js/jquery.easing.1.3.js
+++ b/sites/all/libraries/liquidslider/js/jquery.easing.1.3.js
@@ -43,7 +43,7 @@ jQuery.extend( jQuery.easing,
 	def: 'easeOutQuad',
 	swing: function (x, t, b, c, d) {
 		//alert(jQuery.easing.default);
-		return jQuery.easing[jQuery.easing.def](x, t, b, c, d);
+		//return jQuery.easing[jQuery.easing.def](x, t, b, c, d);
 	},
 	easeInQuad: function (x, t, b, c, d) {
 		return c*(t/=d)*t + b;
@@ -202,4 +202,4 @@ jQuery.extend( jQuery.easing,
  *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
  * OF THE POSSIBILITY OF SUCH DAMAGE. 
  *
- */
\ No newline at end of file
+ */
diff --git a/sites/all/themes/corolla/corolla.info b/sites/all/themes/corolla/corolla.info
index 99fdf98..de84a96 100644
--- a/sites/all/themes/corolla/corolla.info
+++ b/sites/all/themes/corolla/corolla.info
@@ -23,6 +23,7 @@
   stylesheets[all][] = css/blocks.css
   stylesheets[all][] = css/navigation.css
   stylesheets[all][] = css/fonts.css
+  stylesheets[all][] = css/front-page.css
   stylesheets[all][] = css/corolla.settings.style.css
   stylesheets[all][] = color/colors.css
   stylesheets[print][] = css/print.css
diff --git a/sites/all/themes/corolla/css/front-page.css b/sites/all/themes/corolla/css/front-page.css
new file mode 100644
index 0000000..5e20c73
--- /dev/null
+++ b/sites/all/themes/corolla/css/front-page.css
@@ -0,0 +1,21 @@
+/* CSS for the front page */
+
+/*Slideshow*/
+#views_slideshow_liquid_slider_main_front_page_slideshow-block .panel-container .views-field-title{
+    width: auto;
+
+}
+
+#views_slideshow_liquid_slider_main_front_page_slideshow-block .panel-container .views-field-field-slide-image{
+    width: auto;
+    width: 40%;
+    float: left;
+
+}
+#views_slideshow_liquid_slider_main_front_page_slideshow-block .panel-container .views-field-body{
+
+    padding: 10px;
+    width: 50%;
+    float: left;
+
+}
-- 
1.9.1

